     print("������")      local playerIndex_type = 10 local playerTypes,_,ptype = UnitClass("player"); local playerIndex_name = "���" local magicidcreate = 115151  local zhiliaoshiID = 5512  local zhiliaoyaoshuiID = 211879  local qusanMagic = 115450   local daduanIndexs={ 6552,96231,147362,1766,15487,47528,57994,2139,1,116705,1,183752,1, };  local jianshangID = 184364  local daduanID = daduanIndexs[ptype]     local meeyID={  307865,325886,317485,324143, 304971,328620,316958,328204, 308491,328231,324149,325028, 328305,323547,323654,328547, 325013,327661,323673,324724, 312202,324128,311648,315443, 1,1,320674,326059, 307443,314791,314793,324220, 312321,325640,321792,325289, 310454,327104,326860,325216, 338142,323764,323546,325727, 306830,323639,317009,329554, };   print("���������"..playerIndex_name.."���v2.01") tablec={0.9,0.9,0.5,0.5,0.1,0.9,0.0627450980392157,0.1254901960784314,0.0627450980392157,0.67842990159988,0.89803725481033,0.23921516537666,0.47843033075333,0.23529359698296,0.89411568641663,0.3764705882352941,0.0627450980392157,0.4392156862745098,0.0627450980392157,0.5019607843137255,0.0627450980392157,0.5647058823529412,0.0627450980392157,0.6274509803921569,0.0627450980392157,0.6901960784313725,0.0627450980392157,0.7529411764705882,0.0627450980392157,0.8156862745098039,0.0627450980392157,0.8784313725490196,0.0627450980392157,0.9411764705882353,0.1254901960784314,0.0627450980392157,0.1254901960784314,0.1254901960784314,0.1254901960784314,0.13333304226398,0.31372481584549,0.42745003104210,0.53333216905594,0.78039044141769,0.18431332707405,0.3764705882352941,0.1254901960784314,0.4392156862745098,0.1254901960784314,0.5019607843137255,0.71372389793396,0.94117438793182,0.80391979217529,0.85097849369049,0.76078265905380,0.28627386689186,0.08235275745392,0.95293909311295,0.07843120396137,0.08235275745392,0.76078265905380,0.38431286811829,0.63921427726746,0.25490140914917,0.67842990159988,0.89803725481033,0.13333304226398,0.31372481584549,0.21176424622536,0.64705741405487,0.46274408698082,0.14901928603649,0.85882163047791,0.95293909311295,0.42745003104210,0.89411568641663,0.37646976113319,0.70588082075119,0.78431200981140,0.88235098123550,0.32941102981567,0.63921427726746,0.60784178972244,0.97254687547684,0.47450876235962,0.75293952226639,0.70980238914490,0.71372389793396,0.49019500613213,0.63529270887375,0.66666519641876,0.68627297878265,0.00784312002361,0.98039001226425,0.23921516537666,0.47843033075333,0.42745003104210,0.53333216905594,0.86666476726532,0.06666652113199,0.64313584566116,0.75293952226639,0.54509681463242,0.17254863679409,0.43137159943581,0.43137159943581,0.27450919151306,0.26666608452797,0.53725373744965,0.08627431839705,0.64705741405487,0.82352757453918,0.42352849245071,0.81176292896271,0.20392112433910,0.06666652113199,0.87842941284180,0.45490095019341,0.48235186934471,0.17254863679409,0.35686194896698,0.75686109066010,0.50980281829834,0.26666608452797,0.23529359698296,0.89411568641663,0.78039044141769,0.18431332707405,0.09803900122643,0.96470373868942,0.22745047509670,0.29803857207298,0.31372481584549,0.43529316782951,0.42745003104210,0.85882163047791,0.45882251858711,0.07058808207512,0.21176424622536,0.71764546632767,0.52548903226852,0.33333259820938,0.10588212311268,0.85097849369049,0.38039132952690,0.80784136056900,0.05490183830261,0.50195968151093,0.59607714414597,0.61960649490356,0.3137254901960784,0.8784313725490196,0.3137254901960784,0.9411764705882353,0.3764705882352941,0.0627450980392157,0.3764705882352941,0.1254901960784314,0.3764705882352941,0.1882352941176471,0.3764705882352941,0.2509803921568627,0.3764705882352941,0.3137254901960784,0.3764705882352941,0.3764705882352941,0.3764705882352941,0.4392156862745098,0.3764705882352941,0.5019607843137255,0.3764705882352941,0.5647058823529412,0.3764705882352941,0.6274509803921569,0.3764705882352941,0.6901960784313725,0.3764705882352941,0.7529411764705882,0.3764705882352941,0.8156862745098039,0.3764705882352941,0.8784313725490196,0.3764705882352941,0.9411764705882353,0.4392156862745098,0.0627450980392157,0.4392156862745098,0.1254901960784314,0.4392156862745098,0.1882352941176471,0.4392156862745098,0.2509803921568627,0.4392156862745098,0.3137254901960784,0.4392156862745098,0.3764705882352941,0.4392156862745098,0.4392156862745098,0.4392156862745098,0.5019607843137255,0.4392156862745098,0.5647058823529412,0.4392156862745098,0.6274509803921569,0.4392156862745098,0.6901960784313725,0.4392156862745098,0.7529411764705882,0.4392156862745098,0.8156862745098039,0.4392156862745098,0.8784313725490196,0.4392156862745098,0.9411764705882353,0.5019607843137255,0.0627450980392157,0.5019607843137255,0.1254901960784314,0.5019607843137255,0.1882352941176471,0.5019607843137255,0.2509803921568627,0.5019607843137255,0.3137254901960784,0.5019607843137255,0.3764705882352941,0.5019607843137255,0.4392156862745098,0.5019607843137255,0.5019607843137255,0.5019607843137255,0.5647058823529412,0.5019607843137255,0.6274509803921569,0.5019607843137255,0.6901960784313725,0.5019607843137255,0.7529411764705882,0.5019607843137255,0.8156862745098039,0.5019607843137255,0.8784313725490196,0.5019607843137255,0.9411764705882353,0.5647058823529412,0.0627450980392157,0.5647058823529412,0.1254901960784314,0.5647058823529412,0.1882352941176471,0.5647058823529412,0.2509803921568627,0.5647058823529412,0.3137254901960784,0.5647058823529412,0.3764705882352941,0.5647058823529412,0.4392156862745098,0.5647058823529412,0.5019607843137255,0.5647058823529412,0.5647058823529412,0.5647058823529412,0.6274509803921569,0.5647058823529412,0.6901960784313725,0.5647058823529412,0.7529411764705882,0.5647058823529412,0.8156862745098039,0.5647058823529412,0.8784313725490196,0.5647058823529412,0.9411764705882353,0.6274509803921569,0.0627450980392157,0.6274509803921569,0.1254901960784314,0.6274509803921569,0.1882352941176471,0.6274509803921569,0.2509803921568627,0.6274509803921569,0.3137254901960784,0.6274509803921569,0.3764705882352941,0.6274509803921569,0.4392156862745098,0.6274509803921569,0.5019607843137255,0.6274509803921569,0.5647058823529412,0.6274509803921569,0.6274509803921569,0.6274509803921569,0.6901960784313725,0.6274509803921569,0.7529411764705882,0.6274509803921569,0.8156862745098039,0.6274509803921569,0.8784313725490196,0.6274509803921569,0.9411764705882353,0.6901960784313725,0.0627450980392157,0.6901960784313725,0.1254901960784314,0.6901960784313725,0.1882352941176471,0.6901960784313725,0.2509803921568627,0.6901960784313725,0.3137254901960784,0.6901960784313725,0.3764705882352941,0.6901960784313725,0.4392156862745098,0.6901960784313725,0.5019607843137255,0.6901960784313725,0.5647058823529412,0.6901960784313725,0.6274509803921569,0.6901960784313725,0.6901960784313725,0.6901960784313725,0.7529411764705882,0.6901960784313725,0.8156862745098039,0.6901960784313725,0.8784313725490196,0.6901960784313725,0.9411764705882353,0.7529411764705882,0.0627450980392157,0.7529411764705882,0.1254901960784314,0.7529411764705882,0.1882352941176471,0.7529411764705882,0.2509803921568627,0.7529411764705882,0.3137254901960784,0.7529411764705882,0.3764705882352941,0.7529411764705882,0.4392156862745098,0.7529411764705882,0.5019607843137255,0.7529411764705882,0.5647058823529412,0.7529411764705882,0.6274509803921569,0.7529411764705882,0.6901960784313725,0.7529411764705882,0.7529411764705882,0.7529411764705882,0.8156862745098039,0.7529411764705882,0.8784313725490196,0.7529411764705882,0.9411764705882353,0.8156862745098039,0.0627450980392157,0.8156862745098039,0.1254901960784314,0.8156862745098039,0.1882352941176471,0.8156862745098039,0.2509803921568627,0.8156862745098039,0.3137254901960784,0.8156862745098039,0.3764705882352941,0.8156862745098039,0.4392156862745098,0.8156862745098039,0.5019607843137255,0.8156862745098039,0.5647058823529412,0.8156862745098039,0.6274509803921569,0.8156862745098039,0.6901960784313725,0.8156862745098039,0.7529411764705882,0.8156862745098039,0.8156862745098039,0.8156862745098039,0.8784313725490196,0.8156862745098039,0.9411764705882353,0.8784313725490196,0.0627450980392157,0.8784313725490196,0.1254901960784314,0.8784313725490196,0.1882352941176471,0.8784313725490196,0.2509803921568627,0.8784313725490196,0.3137254901960784,0.8784313725490196,0.3764705882352941,0.8784313725490196,0.4392156862745098,0.8784313725490196,0.5019607843137255,0.8784313725490196,0.5647058823529412,0.8784313725490196,0.6274509803921569,0.8784313725490196,0.6901960784313725,0.8784313725490196,0.7529411764705882,0.8784313725490196,0.8156862745098039,0.8784313725490196,0.8784313725490196,0.8784313725490196,0.9411764705882353,0.9411764705882353,0.0627450980392157,0.9411764705882353,0.1254901960784314,0.9411764705882353,0.1882352941176471,0.9411764705882353,0.2509803921568627,0.9411764705882353,0.3137254901960784,0.9411764705882353,0.3764705882352941,0.9411764705882353,0.4392156862745098,0.9411764705882353,0.5019607843137255,0.9411764705882353,0.5647058823529412,0.9411764705882353,0.6274509803921569,0.9411764705882353,0.6901960784313725,0.9411764705882353,0.7529411764705882,0.9411764705882353,0.8156862745098039,0.9411764705882353,0.8784313725490196,0.9411764705882353,0.9411764705882353}    local testshow=0 function at()  testshow=1 end function ChatEdit_CustomTabPressed(...) setmode("-stop") end  local riyuetype=0 local zhanfangTime=0; local  power_oldpower=0 local  power_nowpower=0 local  power_powertime = 0; local  fenggouIndex = 0 local  daoyanclock = 0; local  fenggouzhiliaoclock = 0; local playerAffectheshui=false; local heshuiNums = 70; local heshuitype = 1;  local jinghuaType = 0; local jinghuaMagic =99999; local jinghuaID = 0; local jinghuaButton=0; local castTarget="player" local castTarget_fenggou="player" local bindFinish = false  local ddsetIndex=0; local zlssetIndex=0; local zlyssetIndex=1; local daduanIndex = 0.6  local zhiliaoshiIndex=0.3 local zhiliaoyaoshui=0.2 local attackmode=0; local qinglongclock=0  local mengyMagic=99998; local mengyType = 0; local mengyButton=0; local wowshaoKeyBind = "116670@115151@1@1@116680@196725@115175@197908@124682@116849@/cast [##player]115313@107270@117952@107428@100780@100784@322101@388193@124081@322109@115294@399491@/cast [##focus]124682" if(wowshaoKeyBind ~= nil and bindFinish == false) then lastUpdateTime = 0  bindingLen = { strsplit("@", wowshaoKeyBind) } macroindex = 0 while true do macroindex=macroindex+1 if(macroindex>#bindingLen) then break end if(bindingLen[macroindex] ~= nil) then thisMacro=bindingLen[macroindex] if(string.find(thisMacro, "/") == nil) then thisMacro = GetSpellInfo(thisMacro); thisMacro="/petattack\n/cast "..thisMacro else    if(thisMacro == "/use 167555")then aText = 13 thisMacro = string.gsub(thisMacro, "167555" ,aText)  end aText = GetSpellInfo(185313);  thisMacro = string.gsub(thisMacro, "185313" ,aText)    aText = GetSpellInfo(883);  thisMacro = string.gsub(thisMacro, "883" ,aText)    aText = GetSpellInfo(124682);  thisMacro = string.gsub(thisMacro, "124682" ,aText)    aText = GetSpellInfo(191427);  thisMacro = string.gsub(thisMacro, "191427" ,aText)     aText = GetSpellInfo(190356);  thisMacro = string.gsub(thisMacro, "190356" ,aText)    aText = GetSpellInfo(768);  thisMacro = string.gsub(thisMacro, "768" ,aText)    aText = GetSpellInfo(115313);  thisMacro = string.gsub(thisMacro, "115313" ,aText)   if(thisMacro == "/35395")then aText = GetSpellInfo(35395);  thisMacro="/cast [target=target,exists,nohelp][target=focus,exists,nohelp][target=focustarget,exists,nohelp][target=targettarget,exists,nohelp]"..aText end if(thisMacro == "/24275")then aText = GetSpellInfo(24275);  thisMacro="/cast [target=target,exists,nohelp][target=focus,exists,nohelp][target=focustarget,exists,nohelp][target=targettarget,exists,nohelp]"..aText end if(thisMacro == "/275773")then aText = GetSpellInfo(275773);  thisMacro="/cast [target=target,exists,nohelp][target=focus,exists,nohelp][target=focustarget,exists,nohelp][target=targettarget,exists,nohelp]"..aText end  end  btn = CreateFrame("Button", "wowshaoMacro"..macroindex, UIParent, "SecureUnitButtonTemplate") btn:SetAttribute("type", "macro")  thisMacro = string.gsub(thisMacro, "##", "@")  btn:SetAttribute("macrotext", thisMacro)  end end bindFinish = true end       mp5StartTime = GetTime()  SetCVar("Contrast",50) SetCVar("Brightness", 50) SetCVar("Gamma", 1.0) SetCVar("cameraDistanceMaxZoomFactor", 2.6)      local data = {} local header = "talent" local count = 1 function showtianfu() for i = 1, 7 do  print(data[i].index) end end function updateTianfu()  count = 1 for i = 1, 7 do              for j = 1, 3 do                 local talentID, name, texture, selected, available,   spellID, unknown, row, column, known, byRing = GetTalentInfo(i, j, 1)                 if talentID and (known or byRing) then                          data[i] = {                         header = header,                         name = name,                         icon = texture,                         count = count,                         spellid = spellID,                         description = GetSpellDescription(spellID),                         ilvl = "|cFFbbbbbbT"..i.."|r",                         changed = true,                         show = true,       index = j                     }                     count = count + 1                 end             end    if(data[i]==nil)then     data[i] = {      index = 0     }    end   end end    firstGame=0 firstTime = 0  configwowshaoFrame = CreateFrame("Frame",nil,UIParent) configwowshaoFrame:SetFrameStrata("DIALOG") configwowshaoFrame:RegisterEvent("ADDON_LOADED") configwowshaoFrame:RegisterEvent("PLAYER_LOGOUT") configwowshaoFrame:RegisterEvent("ACTIVE_TALENT_GROUP_CHANGED") configwowshaoFrame:SetScript("OnEvent", function(self, event, arg1)  if event == "ACTIVE_TALENT_GROUP_CHANGED" or event == "PLAYER_TALENT_UPDATE" then    updateTianfu()  end     if(event == "ADDON_LOADED" and (arg1 == 'wowshaoskada' or arg1 == 'wowshaoSkada')) then         if(wowshaoskadaConfig == nil) then    wowshaoskadaConfig={}             wowshaoskadaConfig["fireborderfpoint"] = {3, "UIParent", 1, 1, 1}     wowshaoskadaConfig["ddIndex"] = daduanIndex     wowshaoskadaConfig["zlsIndex"] = zhiliaoshiIndex     wowshaoskadaConfig["zlysIndex"] = zhiliaoyaoshui     wowshaoskadaConfig["ddset"] = ddsetIndex    wowshaoskadaConfig["zlsset"]=zlssetIndex    wowshaoskadaConfig["zlysset"]=zlyssetIndex     wowshaoskadaConfig["pressiontips"] = 0             else     wowshaoskadaConfig["fireborderfpoint"] = {3, "UIParent", 1, 1, 1}     daduanIndex = wowshaoskadaConfig["ddIndex"]         zhiliaoshiIndex=wowshaoskadaConfig["zlsIndex"]    zhiliaoyaoshui=wowshaoskadaConfig["zlysIndex"]    ddsetIndex = wowshaoskadaConfig["ddset"];        zlssetIndex = wowshaoskadaConfig["zlsset"];       zlyssetIndex = wowshaoskadaConfig["zlysset"];  overset = wowshaoskadaConfig["overset"];   if(overset==nil)then  overset=1 wowshaoskadaConfig["overset"]=1   end                  end  initPanel(panel)     end     end)  function checkfirst()  for i = 1, MAX_ACCOUNT_MACROS + MAX_CHARACTER_MACROS do   local name, _, body = GetMacroInfo(i)   if name and string.find(body,"setmode") ~= nil then    firstGame=1;   end end end  local helpCheck = { 0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0, 0,0,0,0,0,0,0,0,0,0, }  function updateHelpName(username,clocktime) for i=1,40,1 do  if(helpCheck[(i-1)*2+1]==0 or helpCheck[(i-1)*2+1]==username)then   helpCheck[(i-1)*2+1] = username   helpCheck[(i-1)*2+2] = clocktime   break;  end  end end local clockHealTime = 3 function checkHelpName(username) if(username==nil)then return false; end for i=1,40,1 do  if(helpCheck[(i-1)*2+1]==username)then   if((GetTime()-helpCheck[(i-1)*2+2])<clockHealTime)then   return true;   end  end end return false; end function recheckHelpName()  for i=1,80,1 do   helpCheck[i] = 0  end end   function createfirsthelp() if(UnitAffectingCombat("player")==false and ptype==playerIndex_type)then firstGame=1  if (GetLocale() == "zhCN") then banner_a_text = "�������� banner_b_text = "�������� banner_help_text = "������������������������\n������������������������\n���������������������������\n��������"��������"��������; else banner_a_text = "I am a new user" banner_b_text = "exit" banner_help_text = "Dear user, thank you for using the spoon one click macro. Here is the first login user guide. \N multiple macros will be created in your macro the first time you use it. You can click \"I am a new user\" to create them directly." end StaticPopupDialogs["WOWSHAOFIRSTTIPS"] = {  button1 = banner_a_text,  button2 = banner_b_text,  OnAccept = function()  DSZHELP()  end, }; StaticPopupDialogs["WOWSHAOFIRSTTIPS"].text = banner_help_text; StaticPopup_Show("WOWSHAOFIRSTTIPS"); end end local riyuetype = 0 bianchiclock = 0 shixuetime=0 shixueclock=0 zhenyanyaoTime=0; yanjingsheNums=0 zhiliaoclock = 0 bingqiangclockTime=0 fazhenclockTime=0   mustbingci=0 zhiliaocTime = 6 playerguid = UnitGUID("player") runFrame = CreateFrame("Frame") runTime = 0 casthps=0 zlsclock=false oldstartmagic =""; runFrame:SetScript("OnUpdate", function(self, inTimes) runFrame:RegisterEvent("COMBAT_LOG_EVENT") runFrame:RegisterEvent("NAME_PLATE_UNIT_ADDED") runFrame:RegisterEvent("NAME_PLATE_UNIT_REMOVED") runFrame:RegisterEvent("COMBAT_LOG_EVENT_UNFILTERED") runFrame:SetScript("OnEvent", function(self, event, ... )     if event == "NAME_PLATE_UNIT_ADDED" then   unitid = ...   unitname = UnitName(unitid)    if UnitIsPlayer(unitid) then     return    end    addListName(unitid)  end  if event == "NAME_PLATE_UNIT_REMOVED" then  unitid = ...  removeListName(unitid)     end  if event == "COMBAT_LOG_EVENT_UNFILTERED" then   local timestamp, combat_event, _, sourceGUID, sourceName, sourceFlags, sourceFlags2, destGUID, destName, destFlags, destFlags2, spellId, spellName, spellSchool,casttxt = CombatLogGetCurrentEventInfo()      if combat_event == "SPELL_CAST_START" and sourceGUID == playerguid then    if(spellName == GetSpellInfo(2050) or spellName == GetSpellInfo(2054) or spellName == GetSpellInfo(2061) or spellName == GetSpellInfo(2060) or spellName == GetSpellInfo(596))then     zhiliaoclock = GetTime();     fenggouzhiliaoclock = GetTime();     oldstartmagic = spellName     castTarget = UnitName("target");     castTarget_fenggou =  UnitName("target");    end   end    if combat_event == "SPELL_CAST_SUCCESS" and sourceGUID == playerguid and spellId==6262 then   if(UnitAffectingCombat("player")==true and zlsclock==true)then    zlsclock =false;   end  end      if combat_event == "SPELL_CAST_FAILED" and sourceGUID == playerguid then     if(spellName == GetSpellInfo(2050) or spellName == GetSpellInfo(2054) or spellName == GetSpellInfo(2061) or spellName == GetSpellInfo(2060) or spellName == GetSpellInfo(596))then     if(casttxt~="������")then      zhiliaoclock=0      castTarget = UnitName("player");     end    end   end    if combat_event == "SPELL_CAST_SUCCESS" and sourceGUID == playerguid and spellName == GetSpellInfo(194509) then    zhenyanyaoTime = GetTime();   end   if combat_event == "SPELL_CAST_SUCCESS" and sourceGUID == playerguid and spellName == GetSpellInfo(19236) then    daoyanclock = GetTime();   end   if combat_event == "SPELL_CAST_SUCCESS" and sourceGUID == playerguid then    castTarget = UnitName("player");    zhiliaoclock=zhiliaocTime   if(spellName == GetSpellInfo(17311))then    bianchiclock=GetTime()   else    bianchiclock=0   end      mp5StartTime = GetTime() + 5   end      if combat_event == "SPELL_AURA_REMOVED" and sourceGUID == playerguid then   if(spellName == GetSpellInfo(17311))then    bianchiclock=0   end   end         if(  (  (spellId == 1044 and G_GetSpellCD(1044) <0.2) or  (spellId == 31821 and G_GetSpellCD(31821) <0.2) or  (spellId == 53563 and G_GetSpellCD(53563) <0.2) or  (spellId == 310143 and G_GetSpellCD(310143) <0.2) or  (spellId == 300728 and G_GetSpellCD(300728) <0.2)   )  and combat_event == "SPELL_CAST_FAILED" and  sourceGUID == playerguid)then   dszdelay(1.0)   lastcast = spellId  end    if((spellId == lastcast) and  sourceGUID == playerguid and combat_event == "SPELL_CAST_SUCCESS")then   dszdelay(0)  end   if((spellId == 310143) and  sourceGUID == playerguid and combat_event == "SPELL_CAST_SUCCESS")then   attmode = "-stop"   end     if combat_event == "SPELL_CAST_START" and spellId == 124682  and sourceGUID == playerguid then    castTarget = UnitName("target")   end     if  sourceGUID == playerguid and (casttxt == "����������� or casttxt == "������" )then     updateHelpName(UnitName("target"),GetTime())  end  if combat_event == "SPELL_CAST_SUCCESS" and sourceGUID == playerguid then      if(spellId == 33763)then   zhanfangTime = GetTime()   end    if spellId == 115313  then    qinglongclock = 1   end      end     end     end)  runTime = runTime + inTimes if(runTime > 0.03 and inTimes < 0.3) then runTime = 0 return onUpdateTimerFrame(self, inTimes) end end) attmode = "CGDT"; function setmode(mode) attmode = mode mySprite()  end    wowmagicBind = "/target raid1@/target raid2@/target raid3@/target raid4@/target raid5@/target raid6@/target raid7@/target raid8@1@/target raid9@/target raid10@/target raid11@/target raid12@/target raid13@/target raid14@/target raid15@/target raid16@/target raid17@/target raid18@/target raid19@/target raid20@/target raid21@/target raid22@/target raid23@/target raid24@/target raid25@/target player@/cast 2061(level 7)@/target party2@/target party3@/target party4@/target focus@/target raid26@/target raid27@/target raid28@/target raid29@/target raid30@/target raid31@/target raid32@/target raid33@/target 66@/target raid34@/target raid35@/target raid36@/target raid37@/target raid38@/target raid39@/target raid40".. "@/stopcasting@"..daduanID.."@/use item:"..zhiliaoshiID.."@/use item:"..zhiliaoyaoshuiID.."@"..jianshangID.."@99998@".. ""..qusanMagic.."@325197@/cast [nochanneling]117952@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1"  wowmagicBind_party = "1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@/target player@/target party1@/target party2@/target party3@/target party4@/target focus@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1@1" local oldbind=""; local btn_bind={}; function initParty(wowBind) setNums = 24; macroindex=0 bindingLen = { strsplit("@", wowBind) } bindingLen_raid = { strsplit("@", wowmagicBind) } if(oldbind~=bindingLen[1])then oldbind = bindingLen[1]; else return 0; end    while true do  macroindex=macroindex+1 if(macroindex>#bindingLen) then break end  if(bindingLen[macroindex] ~= nil) then thisMacro=bindingLen[macroindex] if((macroindex+setNums)>=73)then thisMacro=bindingLen_raid[macroindex] end if(string.find(thisMacro, "/") == nil) then thisMacro = GetSpellInfo(thisMacro); thisMacro="/cast "..thisMacro else      aText = GetSpellInfo(117952); thisMacro = string.gsub(thisMacro, "117952" ,aText)    end      if(string.find(thisMacro, GetSpellInfo(99998)) ~= nil) then jinghuaID = macroindex thisMacro = GetSpellInfo(mengyMagic); thisMacro="/cast "..thisMacro if(mengyButton==0)then mengyButton = CreateFrame("Button", "wowshaoMacro"..macroindex+setNums, UIParent, "SecureUnitButtonTemplate") mengyButton:SetAttribute("type", "macro") thisMacro = string.gsub(thisMacro, "##", "@")  mengyButton:SetAttribute("macrotext", thisMacro) end end if(btn_bind[macroindex] == nil)then btn_bind[macroindex] = CreateFrame("Button", "wowshaoMacro"..macroindex+setNums, UIParent, "SecureUnitButtonTemplate") end btn_bind[macroindex]:SetAttribute("type", "macro") thisMacro = string.gsub(thisMacro, "##", "@")  btn_bind[macroindex]:SetAttribute("macrotext", thisMacro) end end end    function seta(name)   if(IsInRaid())then bindingLen = { strsplit("@", wowmagicBind) } else bindingLen = { strsplit("@", wowmagicBind_party) } end    macroindex=0 while true do macroindex = macroindex+1 if(bindingLen[macroindex]~= nil)then if string.find(bindingLen[macroindex],"/target "..name) ~= nil or string.find(bindingLen[macroindex],"/s "..name) ~= nil then if(macroindex<8)then return macroindex+24 else  return macroindex+25  end end else return 25 end end end    function resetMengyueMagic(jinghuaMagicID) thisMacro = GetSpellInfo(jinghuaMagicID); thisMacro="/cast [@cursor,nochanneling]"..thisMacro  mengyButton:SetAttribute("macrotext", thisMacro) end   function resetMengyue(logs)   if(UnitAffectingCombat("player") == false)then  n_mengyueType = 0  n_mengyueMagic = 0  for i = 1, 4 do   mengyueID = meeyID[(ptype-1)*4+i] if(logs==true)then print(mengyueID) end targetName = GetSpellInfo(mengyueID); feifuName = GetSpellInfo(targetName);  if feifuName == targetName then n_mengyueMagic = mengyueID n_mengyueType = i end   end  if(n_mengyueType~=mengyType)then      mengyType = n_mengyueType;   mengyMagic= n_mengyueMagic;   if(mengyType==0) then mengyMagic = 99998 end   resetMengyueMagic(mengyMagic)  end   end end     function binary_to_dec (data)     local dst = 0     local tmp = 0      if not data then return dst end                               if not tonumber(data) then return dst end             if "string" == type(data) then         data = tostring(tonumber(data))     end          if "number" == type(data) then         data = tostring(data)     end         for i = #data, 1, -1 do         tmp = tonumber(data:sub(-i, -i))         if 0 ~= tmp then             for j = 1, i - 1, 1 do                 tmp = 2 * tmp             end         end         dst = dst + tmp     end     return dst end slsct = GetTime(); function dec_to_binary (data)     local dst = ""     local remainder, quotient          if not data then return dst end                          if not tonumber(data) then return dst end            if "string" == type(data) then         data = tonumber(data)     end     while true do         quotient = math.floor(data / 2)         remainder = data % 2         dst = dst..remainder         data = quotient         if 0 == quotient then             break         end     end      dst = string.reverse(dst)     if 8 > #dst then         for i = 1, 8 - #dst, 1 do             dst = '0'..dst         end     end     return dst end    function acb(data)      local dst = ""     local code = ""     local tmp, index      if not data then return dst end                       data = data:gsub("\n", "")                                data = data:gsub("=", "")                                 for i = 1, #data, 1 do         tmp = data:sub(i, i)         index = basecodelist:find(tmp)         if nil == index then             return dst         end         index = index - 1         tmp = dec_to_binary(index)         code = code..tmp:sub(3)                              end       for i = 1, #code, 8 do         tmp = string.char(binary_to_dec(code:sub(i, i + 7)))         if nil ~= tmp then             dst = dst..tmp         end     end     return dst end sldbd=0 function abc() sldbd=0 for i = 1, GetNumAddOns() do   name,s,Names = GetAddOnInfo(i)   if(name~=nil and Names~=nil)then   if(name == acb("d293c2hhb1NrYWRh") or name == acb("d293c2hhb3NrYWRh"))then   sldbd=1;   end   if(string.find(Names,acb("6KW\/55Oc")) ~= nil)then   sldbd=2;   end   end end end abc()        playerTypes,_,ptype = UnitClass("player");  function padoit(arg1) if(ra)then if(ptype ~= playerIndex_type)then arg1 = 66 end if(arg1>0)then  end paTexture:SetColorTexture(tablec[arg1*2+1]+12*0.00392156,tablec[arg1*2+2],0,1) if(arg1>0)then ra=false else  end end end function pbdoit(arg1) pbTexture:SetColorTexture(tablec[arg1*2+1],tablec[arg1*2+2],1,1) end dszscript = ""   function resetJinghuaMagic(jinghuaMagicID) thisMacro = GetSpellInfo(jinghuaMagicID); thisMacro="/cast "..thisMacro  thisMacro = string.gsub(thisMacro, "##", "@")  jinghuaButton:SetAttribute("macrotext", thisMacro) end      if(IsInRaid())then initParty(wowmagicBind) else initParty(wowmagicBind_party) end   function resetJinghua()   if(UnitAffectingCombat("player") == false)then  n_jinghuaType = 0  n_jinghuaMagic = 0   magicjinghuaID = 298357 targetName = GetSpellInfo(magicjinghuaID); feifuName = GetSpellInfo(targetName);  if feifuName == targetName then   n_jinghuaMagic = magicjinghuaID n_jinghuaType = 1 end  magicjinghuaID = 295373 targetName = GetSpellInfo(magicjinghuaID); feifuName = GetSpellInfo(targetName);  if feifuName == targetName then   n_jinghuaMagic = magicjinghuaID n_jinghuaType = 2 end  magicjinghuaID = 298452 targetName = GetSpellInfo(magicjinghuaID); feifuName = GetSpellInfo(targetName);  if feifuName == targetName then   n_jinghuaMagic = magicjinghuaID n_jinghuaType = 3 end  magicjinghuaID = 295186 targetName = GetSpellInfo(magicjinghuaID); feifuName = GetSpellInfo(targetName);  if feifuName == targetName then   n_jinghuaMagic = magicjinghuaID n_jinghuaType = 4 end  magicjinghuaID = 297108 targetName = GetSpellInfo(magicjinghuaID); feifuName = GetSpellInfo(targetName);  if feifuName == targetName then   n_jinghuaMagic = magicjinghuaID n_jinghuaType = 5 end  magicjinghuaID = 295337 targetName = GetSpellInfo(magicjinghuaID); feifuName = GetSpellInfo(targetName);  if feifuName == targetName then   n_jinghuaMagic = magicjinghuaID n_jinghuaType = 6 end  magicjinghuaID = 295840 targetName = GetSpellInfo(magicjinghuaID); feifuName = GetSpellInfo(targetName);  if feifuName == targetName then   n_jinghuaMagic = magicjinghuaID n_jinghuaType = 7 end  magicjinghuaID = 302731 targetName = GetSpellInfo(magicjinghuaID); feifuName = GetSpellInfo(targetName);  if feifuName == targetName then   n_jinghuaMagic = magicjinghuaID n_jinghuaType = 8 end  magicjinghuaID = 295258 targetName = GetSpellInfo(magicjinghuaID); feifuName = GetSpellInfo(targetName);  if feifuName == targetName then   n_jinghuaMagic = magicjinghuaID n_jinghuaType = 9 end    if(n_jinghuaType~=jinghuaType)then   jinghuaType = n_jinghuaType;   jinghuaMagic= n_jinghuaMagic;   resetJinghuaMagic(jinghuaMagic)  end   end end assv = acb("MTEwMTA3")  if(wowshaoShowEventF == nil) then  wowshaoShowEventF = CreateFrame("Frame")  wowshaoShowEventF:RegisterEvent("PLAYER_REGEN_DISABLED")  wowshaoShowEventF:SetScript("OnEvent",function() if(50 ~= tonumber(GetCVar("Contrast")) or 50 ~= tonumber(GetCVar("Brightness")) or 1.0 ~= tonumber(GetCVar("Gamma"))) then DEFAULT_CHAT_FRAME:AddMessage("������������>>���>>��������/��������������������������������������������0,50,1.0������������/reload ui��, 1, 0, 0) end end) end local keyIndex=0; nowTimes=0 cloclTime=0 huixuanboIndex=0 delayTime = 0 ; function dszdelay(time)  delayTime = GetTime()+time; end  castTarget = "player" function mySprite()  ra=true if(GetTime()-delayTime<0)then   if(ra)then paTexture:SetColorTexture(0.46666565537453,0.05882339924574,0.00392156) ra = false end   return  end    firstTime = firstTime+1  if(firstTime == 1)then createpressiontips()  updateTianfu() end  if(firstTime==10)then checkfirst() end  if(firstTime>10 and firstGame==0)then createfirsthelp() end  script = ""  paTexture:SetColorTexture(1,0.9,0,1)  pbTexture:SetColorTexture(0.19999956000000, 0.19999956000000, 0, 1)      _,isuse = GetSpellCooldown(190411)  shixueuse,shixuecd = GetSpellCooldown(23881)  shixueuse = shixuecd-(GetTime()-shixueuse)  shixueIndex = 0  if(isuse>=shixueuse)then  shixueIndex = 1  end  gcdTime = GetTime()-isuse;  if(gcdTime<0.5) then   gcdTime = 0  end   if(IsInRaid())then initParty(wowmagicBind) else initParty(wowmagicBind_party) end                              if(string.find(attmode,"-wnqs") ~= nil)then  SZ_magic_debuffoff = "0";  end   if(fenggouIndex==1)then zhiliaoclock=0 end;    magicuse_0=0  magicuse_1=0  magicuse_2=0  magicuse_3=0    resetMengyue()  player_attack = UnitAffectingCombat("player");      targetName = GetSpellInfo(100130); feifuName = GetSpellInfo(targetName);  if feifuName == targetName then magicuse_0=1  end    attackstop=1  if(string.find(attmode,"-asp") ~= nil )then   attackstop = 0;  end           if(attackstop == 1)then if(startattack==true and UnitAffectingCombat("player")==false)then  if(keyIndex<60 and string.find(attmode,"-stop") == nil)then  recheckHelpName() attmode = "-stop"  else   startattack = false  end   keyIndex = keyIndex+1 end end  if(UnitAffectingCombat("player") == true)then startattack = UnitAffectingCombat("player") keyIndex = 0 end if string.find(attmode,"-stop") ~= nil then  if(ra)then paTexture:SetColorTexture(0.36078351736069,0.43529316782951,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]; end  if(sldbd~=1)then if(GetTime()-slsct>233) then return end end  targetEmery= UnitGUID("target")    if(targetEmery~=nil)then    targetGUID = G_icy_split(targetEmery,'-')[6];  end      if(castMagic(21562,0)==true)then    if(ra)then paTexture:SetColorTexture(0.45882251858711,0.92940974235535,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end       unitNameID = 0;  unitEmery= UnitGUID("target")  if(unitEmery~=nil)then  unitNameID = G_icy_split(unitEmery,'-')[6];  end    if(unitNameID == 204773)then    if(castMagic(qusanMagic)==true)then    if(ra)then paTexture:SetColorTexture(0.44313627481461,0.54509681463242,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end    end        if(G_DeBuffTimes_name_alluser("player",GetSpellInfo(240447))>0 and G_DeBuffTimes_name_alluser("player",GetSpellInfo(240447))<0.5  )then   if(getshowMagic_bfbs("player")>0)then   if(ra)then paTexture:SetColorTexture(0.64313584566116,0.61960649490356,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end  padoit(101)  end    castName = GetSpellInfo(324631)  if(amac_bak(NA_Player)==castName)then   if(ra)then paTexture:SetColorTexture(0.72941017150879,0.48627343773842,0.00392156) ra = false end   end   player_dszmove = G_GetMoveed("player")       daduanMagic = daduanID; if string.find(attmode,"-sdd") ~= nil then    daduanIndex = tonumber(string.sub(attmode, string.find(attmode,"-sdd") +5, string.find(attmode,")sdd")-1)) daduanIndex = (100-daduanIndex)/100; end if(ddsetIndex==0)then hitstate,hitmagic= G_hit("target")   if(hitstate~=0 and getshowMagic_bfbs("target")<daduanIndex and  spellIsUse(daduanMagic)==1 and G_GetSpellCD(daduanMagic)<=0.2 and checkDaduan(hitmagic)==true) then   if(ra)then paTexture:SetColorTexture(0.65490055084229,0.93725281953812,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end end      if string.find(attmode,"-zls") ~= nil then    zhiliaoshiIndex = tonumber(string.sub(attmode, string.find(attmode,"-zls") +5, string.find(attmode,")zls")-1))  if(zhiliaoshiIndex~=0) then zhiliaoshiIndex = (zhiliaoshiIndex)/100 end  end if(player_attack==false)then  zlsclock=true  end if (W_HPlevel("player")<=zhiliaoshiIndex and zlssetIndex==0 and zlsclock==true and GetItemCount(zhiliaoshiID)>0 and GetItemCooldown(zhiliaoshiID)==0) then   if(ra)then paTexture:SetColorTexture(0.12156835943460,0.43921470642090,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end        if string.find(attmode,"-zlys") ~= nil and player_attack==true then    zhiliaoyaoshui = tonumber(string.sub(attmode, string.find(attmode,"-zlys") +6, string.find(attmode,")zlys")-1))  if(zhiliaoyaoshui~=0) then zhiliaoyaoshui = (zhiliaoyaoshui)/100 end  end   if (W_HPlevel("player")<=zhiliaoyaoshui and zlyssetIndex==0 and GetItemCount(zhiliaoyaoshuiID)>0 and GetItemCooldown(zhiliaoyaoshuiID)==0) then   if(ra)then paTexture:SetColorTexture(0.72156703472137,0.61176335811615,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end      jianshangHps=0.3  if string.find(attmode,"-js") ~= nil then    jianshangHps = tonumber(string.sub(attmode, string.find(attmode,"-js") +4, string.find(attmode,")js")-1))  if(jianshangHps~=0) then jianshangHps = (jianshangHps)/100 end  end  if (W_HPlevel("player")<=jianshangHps  and  spellIsUse(jianshangID)==1 and  G_GetSpellCD(jianshangID)<=0.2 and jianshangID~=1) then   if(ra)then paTexture:SetColorTexture(0.76470422744751,0.96078222990036,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end      if(time()>1751700071 and cldcd~=1 and (GetTime()-slsct)>321)then  StaticPopupDialogs["WOWSHAOERROR"] = { button1 = OKAY, OnAccept = function() end, showAlert = 2}; StaticPopupDialogs["WOWSHAOERROR"].text = acb("5oKo5q2j5Zyo5L2\/55So55uX54mI5LiA6ZSu5a6P77yM5L2\/55So55uX54mI5Y+v6IO95a+86Ie05oKo55qE6LSm5oi36LSi5Lqn5Lii5aSx44CCCuWmgumcgOS9v+eUqOivt+i0reS5sOato+eJiOWLuuWtkOS4gOmUruWuj++8jOa3mOWuneaQnOe0ouWLuuWtkOS4gOmUruWuj+asoui\/juaCqOeahOWFieS4tOOAggrmiJbogIXliqBWWO+8mndvd3NoYW96aQ==") StaticPopup_Show("WOWSHAOERROR");  return end     if(string.find(attmode,"-qxbf") == nil)then   if(castMagic(24858,0)==true)then       end  end    baofaIndex=0;  dantiIndex=0;  if string.find(attmode,"������") ~= nil or string.find(attmode,"BFDT") ~= nil then  baofaIndex=1;  dantiIndex=1;  else if string.find(attmode,"���AOE") ~= nil  or string.find(attmode,"BFAOE") ~= nil then  baofaIndex=1;  else if string.find(attmode,"���AOE") ~= nil or string.find(attmode,"CGAOE") ~= nil then    else if string.find(attmode,"������") ~= nil or string.find(attmode,"CGDT") ~= nil then  dantiIndex=1;  else if string.find(attmode,"���") ~= nil or string.find(attmode,"CDT") ~= nil then  zhiliaoAttack()  end  end  end  end  end          zhiliaoIndex = 0;    if(string.find(attmode,"-zl ") ~= nil )then   zhiliaoIndex=1;  end      castName = GetSpellInfo(47540)  if(amac_bak(NA_Player)==castName)then   if(ra)then paTexture:SetColorTexture(0.46666565537453,0.05882339924574,0.00000000) ra = false end   end    castName = GetSpellInfo(34914)  if(amac_bak(NA_Player)==castName)then   if(ra)then paTexture:SetColorTexture(0.46666565537453,0.05882339924574,0.00392156) ra = false end   end    if(amac_bak(NA_Player)==castName)then   if(ra)then paTexture:SetColorTexture(0.46666565537453,0.05882339924574,0.01960780) ra = false end   end  kuaisuHps = 0.7;  juewangHps=0.5;  shouhuHps=0.3;  zishaHps=0.5;  yuheHps=0.95;      if string.find(attmode,"-hpks") ~= nil then kuaisuHps = tonumber(string.sub(attmode, string.find(attmode,"-hpks") +6, string.find(attmode,")hpks")-1)) if(kuaisuHps~=0)then kuaisuHps = (kuaisuHps)/100; end end     if string.find(attmode,"-jwdy") ~= nil then juewangHps = tonumber(string.sub(attmode, string.find(attmode,"-jwdy") +6, string.find(attmode,")jwdy")-1)) if(juewangHps~=0)then juewangHps = (juewangHps)/100; end end         if string.find(attmode,"-shzh") ~= nil then shouhuHps = tonumber(string.sub(attmode, string.find(attmode,"-shzh") +6, string.find(attmode,")shzh")-1)) if(shouhuHps~=0)then shouhuHps = (shouhuHps)/100; end end  local scvs = "" _,_,_,scvs = GetBuildInfo() if(scvs~=tonumber(assv))then return end    if string.find(attmode,"-hpzs") ~= nil then zishaHps = tonumber(string.sub(attmode, string.find(attmode,"-hpzs") +6, string.find(attmode,")hpzs")-1)) if(zishaHps)then zishaHps = (zishaHps)/100; end end    if(zhiliaoIndex==1)then    cijizhiliao =0  hpPlyaers=0  magiccheckrange = 115151   target_default="player"  targethp=1  target_hp=1    qusanSet=0  qusanIndex=0  target_id = "player"  zhinengIndex=0  playerLevel = UnitLevel("player")   magicType=0  playerInRaid = 0    if string.find(attmode,"-qs") ~= nil then   qusanSet=1  end   if string.find(attmode,"-zn") ~= nil then   zhinengIndex=1  end    _,shanshuocd = GetSpellCooldown(20473);  teamIndex = isTeam()     if(teamIndex==1)then  for i=1,5,1 do   targethpNums=0   targetname = "party"..i-1   if(i==1)then   targetname = "player"   end      if(UnitName(target_default)==UnitName(targetname))then    target_default = targetname   end         targethp = W_HPlevel_heal(targetname)              if(IsSpellInRange(GetSpellInfo(magiccheckrange),targetname)==1 and checkHelpName(UnitName(targetname))==false)then         if(qusanSet==0 and G_GetSpellCD(qusanMagic)<=0.2 and IsSpellInRange(GetSpellInfo(qusanMagic),targetname)==1)then    magicType,magicqusanID = NA_CheckDebuff(targetname);   if(magicType~=0)then   target_id = targetname   qusanIndex=1   break   end   end   targethpNums = UnitHealth(targetname)   if(targethp~=1  and targethp~=0 and IsSpellInRange(GetSpellInfo(magicidcreate),targetname)==1)then    hpPlyaers = hpPlyaers+1   end      if(targethp>0 and UnitIsDead(targetname)==false and checkHelpName(UnitName(targetname))==false and UnitHealth(targetname)~=1)then    if(targethp<=target_hp and (W_BuffTimes(3,targetname,287280)<6 or targethp<0.9))then     target_hp = targethp     target_id = targetname    end   end      end  end  else if(teamIndex==2)then   playerInRaid = UnitInRaid("player")  raid_start = 1;  raid_end = 40;  raid_step = 1;      if(qusantype==1)then  raid_start = 40;  raid_end = 1;  raid_step = -1;  end  for i=raid_start,raid_end,raid_step do       targetname = "raid"..i      continue = 0;   if(raidcheck[i]==0 and kaiguancheck==1)then    continue = 1   end      if(continue==0)then     targethp = W_HPlevel_heal(targetname)   raidDebuffNext = 0    if(G_DeBuffTimes_name_alluser(targetname,GetSpellInfo(329298))~=0)then   raidDebuffNext=1   end   if(raidDebuffNext==0)then   if(UnitName(target_default)==UnitName(targetname))then   target_default = targetname   end      if(IsSpellInRange(GetSpellInfo(magiccheckrange),targetname)==1 and checkHelpName(UnitName(targetname))==false)then           if(i == raid_start)then   targetname = "player"   if(qusanSet==0 and G_GetSpellCD(qusanMagic)<=0.2 and IsSpellInRange(GetSpellInfo(qusanMagic),targetname)==1)then    qusanJump = 1      magicType,magicqusanID = NA_CheckDebuff(targetname);    if(magicqusanID == 135817 and G_DeBuffTimes_name_alluser(targetname,GetSpellInfo(19496))~=0)then     qusanJump = 0    end     if(magicqusanID == 135818)then     _,powertype = UnitPowerType(targetname)    if(powertype~="MANA")then     qusanJump = 0    end    end   if(zhinengqusanIndex == 0)then qusanJump = 1; end   if(qusanJump==1)then   if(magicType~=0)then   target_id = targetname   qusanIndex=1   break   end   end   end   end   targetname = "raid"..i                        if(qusanSet==0 and G_GetSpellCD(qusanMagic)<=0.2 and IsSpellInRange(GetSpellInfo(qusanMagic),targetname)==1)then    qusanJump = 1      magicType,magicqusanID = NA_CheckDebuff(targetname);    if(magicqusanID == 135817 and G_DeBuffTimes_name_alluser(targetname,GetSpellInfo(19496))~=0)then     qusanJump = 0    end     if(magicqusanID == 135818)then     _,powertype = UnitPowerType(targetname)    if(powertype~="MANA")then     qusanJump = 0    end    end   if(zhinengqusanIndex == 0)then qusanJump = 1; end   if(qusanJump==1)then   if(magicType~=0)then   target_id = targetname   qusanIndex=1   break   end   end   end   targethpNums = UnitHealth(targetname)   if(targethp~=1  and targethp~=0 and playerInRaid == UnitInRaid(targetname) and (UnitHealthMax(targetname)-W_HP(targetname))>800 and IsSpellInRange(GetSpellInfo(527),targetname)==1)then    hpPlyaers = hpPlyaers+1   end      if(targethp>0 and UnitIsDead(targetname)==false and checkHelpName(UnitName(targetname))==false and UnitHealth(targetname)~=1)then      if(targethp<=target_hp and        (    (string.find(attmode,"-ylzn") == nil or (string.find(attmode,"-ylzn") ~= nil and W_BuffTimes(3,targetname,124682)<2 and UnitName(targetname)~=castTarget))    )    )then          target_hp = targethp     target_id = targetname    end       end   end      end   end  end  end  end    if(W_HPlevel(target_id)==1 and qusanIndex==0)then  target_id=target_default  if(qusanSet==0 and G_GetSpellCD(qusanMagic)<=0.2)then   magicType,magicqusanID = NA_CheckDebuff(target_id);  if(magicType~=0)then  qusanIndex=1  end  end  end        targetIndex = seta(target_id)    if(testshow == 1)then  print(targetIndex..":"..target_id)  end  if(UnitName("target")==UnitName(target_id) or zhinengIndex==0)then        if(qusanSet==0 and zhinengIndex==0)then   qusanIndex=0  end        if(qusanSet==0 and qusanIndex==0 and zhinengIndex==0)then  magicType,magicqusanID = NA_CheckDebuff("target");    if((magicType~=0) and (UnitCanAttack("target","player")==false))then  qusanIndex=1  end  end    if(qusanIndex==1)then     if(castMagic(qusanMagic)==true and magicType~=0)then    if(ra)then paTexture:SetColorTexture(0.44313627481461,0.54509681463242,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end  end    if(UnitExists("target")==false or UnitIsFriend( "player", "target" )==false)then   if(ra)then paTexture:SetColorTexture(0.47843033075333,0.43137159943581,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end        clocktime = 0; castName = GetSpellInfo(194509)  if(amac_bak(NA_Player)==castName)then   if(ra)then paTexture:SetColorTexture(0.46666565537453,0.05882339924574,0.02352936) ra = false end    dszdelay(0.2)  end   castName = GetSpellInfo(982)  if(amac_bak(NA_Player)==castName)then   if(ra)then paTexture:SetColorTexture(0.46666565537453,0.05882339924574,0.00784312) ra = false end   end    jinghuahp=1  huoxuehp = 1.0  zhiliaowuhp=1.0    if string.find(attmode,"-hpyl") ~= nil then zhiliaowuhp = tonumber(string.sub(attmode, string.find(attmode,"-hpyl") +6, string.find(attmode,")hpyl")-1)) zhiliaowuhp = (zhiliaowuhp)/100; end  if string.find(attmode,"-hphx") ~= nil then huoxuehp = tonumber(string.sub(attmode, string.find(attmode,"-hphx") +6, string.find(attmode,")hphx")-1)) huoxuehp = (huoxuehp)/100; end  if string.find(attmode,"-hpjh") ~= nil then jinghuahp = tonumber(string.sub(attmode, string.find(attmode,"-hpjh") +6, string.find(attmode,")hpjh")-1)) jinghuahp = (jinghuahp)/100; end      hp = W_HPlevel("target");    if(UnitAffectingCombat("player") == false)then   attackmode = 0   qinglongclock = 0  end  if(attackmode==0 and UnitAffectingCombat("player") == true)then   attackmode = 1  end      shenlongNums = GetSpellCount(399491)  if(shenlongNums>=4 and G_GetMoveed("player")==false and castMagic(399491)==true and string.find(attmode,"-qxsl") == nil)then   if(ra)then paTexture:SetColorTexture(0.32548949122429,0.57254773378372,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end        if(string.find(attmode,"-qxql") == nil and castMagic(115313)==true and G_GetSpellCD(115313)<=0.2 and qinglongclock ==0 and attackmode == 1)then   if(ra)then paTexture:SetColorTexture(0.17254863679409,0.21176424622536,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end      if(hp<=0.3 and string.find(attmode,"-qxzj") == nil and UnitExists("target")== true  and castMagic(116849)==true and G_GetSpellCD(116849)<=0.2 and (W_HPlevel("target")<0)==false)then   if(ra)then paTexture:SetColorTexture(0.24705828726292,0.53333216905594,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end    if(G_GetSpellCD(322101)<=0.2 and string.find(attmode,"-qxyh") == nil and W_HPlevel("player")<0.6)then   if(ra)then paTexture:SetColorTexture(0.59607714414597,0.92548817396164,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end    if(G_BuffCount(3,"player",343820)==3 and castMagic(124682)==true)then   if(UnitExists("focus")== true and W_BuffTimes(3,"focus",124682)==0 )then    if(ra)then paTexture:SetColorTexture(0.09019587934017,0.72156703472137,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]    else    if(ra)then paTexture:SetColorTexture(0.86666476726532,0.03137248009443,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]    end  end    if(castMagic(115294)==true and W_PowerLevel("player")<0.3 and string.find(attmode,"-flc") ~= nil and UnitAffectingCombat("player") == true)then   if(ra)then paTexture:SetColorTexture(0.28627386689186,0.22745047509670,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end      if(castMagic(124081)==true and string.find(attmode,"-qxcyb") == nil and W_HPlevel("target")<0.7)then     end    if(castMagic(388193)==true and (W_BuffTimes(3,"player",389387)==0 or W_BuffTimes(3,"player",388026)<2 or W_BuffTimes(3,"player",388193)==0) and string.find(attmode,"-qxyht") == nil)then   if(ra)then paTexture:SetColorTexture(0.75686109066010,0.92940974235535,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end  if(cldcd~=1 and (GetTime()-slsct)>578 and GetTime()%10<5 and isTeam()~=0)then return end      if(G_GetSpellCD(116680)<=0.2 and castMagic(116680)==true and player_attack==true and W_BuffTimes(3,"player",116680)==0 and string.find(attmode,"-qxlg") == nil)then    if(ra)then paTexture:SetColorTexture(0.87450790405273,0.21960735321045,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end  if(dantiIndex==0 and castMagic(196725)==true  and G_GetSpellCD(196725)<=0.2 and hp<0.9 and string.find(attmode,"-qxjf") == nil)then    if(ra)then paTexture:SetColorTexture(0.50588124990463,0.52941060066223,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end    if((W_BuffTimes(3,"target",119611)<6 or G_GetSpellCDNums(115151)==2) and castMagic(115151)==true and G_GetSpellCD(115151)<=0.2 and ((string.find(attmode,"-qxfs") == nil and string.find(attmode,"-ydfs") == nil) or (string.find(attmode,"-ydfs") ~= nil and G_GetMoveed("player") == true)))then   if(ra)then paTexture:SetColorTexture(0.17647020518780,0.85490006208420,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end     if(W_BuffTimes(3,"target",124682)==0 and GetSpellInfo(124682)~=amac_bak(NA_Player) and string.find(attmode,"-bcyl") ~= nil and hp<zhiliaowuhp and castMagic(124682)==true)then    if(ra)then paTexture:SetColorTexture(0.86666476726532,0.03137248009443,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]    end  if(hp<huoxuehp  and (W_BuffTimes(3,"target",115175)~=0 or castMagic(115175)==false))then      if(W_BuffTimes(3,"target",124682)==0 and GetSpellInfo(124682)~=amac_bak(NA_Player) and hp<zhiliaowuhp and castMagic(124682)==true)then    if(ra)then paTexture:SetColorTexture(0.86666476726532,0.03137248009443,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]    end      if(castMagic(116670)==true)then   if(ra)then paTexture:SetColorTexture(0.50195968151093,0.63137114048004,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]    end  end      if(W_BuffTimes(3,"target",124682)<2  and castMagic(124682)==true and hp<zhiliaowuhp and string.find(attmode,"-ylzn") ~= nil)then    if(ra)then paTexture:SetColorTexture(0.86666476726532,0.03137248009443,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end  if(amac_bak(NA_Player)~=false and  (W_BuffTimes(3,"target",115175)~=0 or castMagic(115175)==false))then   if(ra)then paTexture:SetColorTexture(0.72941017150879,0.48627343773842,0.00784312) ra = false end  end  if(hp<1)then  if(ra)then paTexture:SetColorTexture(0.29019543528557,0.61176335811615,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end  else    padoit(targetIndex)    end      end      if(ra)then paTexture:SetColorTexture(0.46666565537453,0.05882339924574,0.01176468) ra = false end     end menghuIndex=0  targetNames = {  'player',  'party1',   'party2',  'party3',  'party4' } suiyuclock = GetTime() function zhiliaoAttack()     castName = GetSpellInfo(117952)  if(amac_bak(NA_Player)==castName)then   if(ra)then paTexture:SetColorTexture(0.46666565537453,0.05882339924574,0.02352936) ra = false end    suiyuclock = GetTime()  end     if(castMagic(117952)==true and GetTime()-suiyuclock>1 and G_GetMoveed("player")==false and string.find(attmode,"-sysd") ~= nil and W_BuffTimes(3,"player",467317)~=0)then   if(ra)then paTexture:SetColorTexture(0.71764546632767,0.83529227972031,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end  zhiliaoHps = 1;   if string.find(attmode,"-hpzl") ~= nil then zhiliaoHps = tonumber(string.sub(attmode, string.find(attmode,"-hpzl") +6, string.find(attmode,")hpzl")-1)) zhiliaoHps = (zhiliaoHps)/100; end    if(G_GetSpellCD(322101)<=0.2 and string.find(attmode,"-qxyh") == nil)then   if(ra)then paTexture:SetColorTexture(0.59607714414597,0.92548817396164,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end  zhiliaohp = 1;  zhiliaoset = 0;  zhiliaoname = "player"  if(isTeam()~=2 and string.find(attmode,"-qxzl") == nil  )then     for i=1,5,1 do   if(W_HPlevel(targetNames[i])<W_HPlevel(zhiliaoname) or zhiliaoset == 0)then    zhiliaoname = targetNames[i]    zhiliaoset= i ;    zhiliaohp = W_HPlevel(targetNames[i])   end   end  end        if(castMagic(325197)==true  and zhiliaohp<=zhiliaoHps  and string.find(attmode,"-zhxf") ~= nil)then   if(ra)then paTexture:SetColorTexture(0.45882251858711,0.92940974235535,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end    if(castMagic(115294)==true and W_PowerLevel("player")<0.3 and string.find(attmode,"-flc") ~= nil and UnitAffectingCombat("player") == true)then   if(ra)then paTexture:SetColorTexture(0.28627386689186,0.22745047509670,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end    if(G_BuffCount(3,"player",343820)==3 and castMagic(124682)==true)then   if(UnitExists("focus")== true and W_BuffTimes(3,"focus",124682)==0 )then    if(ra)then paTexture:SetColorTexture(0.09019587934017,0.72156703472137,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]    else    if(ra)then paTexture:SetColorTexture(0.86666476726532,0.03137248009443,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]    end  end    shenlongNums = GetSpellCount(399491)  if(shenlongNums>=4 and G_GetMoveed("player")==false and zhiliaohp<=zhiliaoHps and castMagic(399491)==true and string.find(attmode,"-qxsl") == nil)then   if(ra)then paTexture:SetColorTexture(0.32548949122429,0.57254773378372,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end      if(W_BuffTimes(3,"player",438443)>0 and W_BuffTimes(3,"player",389387)~=0)then   if(ra)then paTexture:SetColorTexture(0.84705698490143,0.29803857207298,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end         if(castMagic(322109)==true and string.find(attmode,"-qxlh") == nil and UnitHealth("target")<=UnitHealthMax("player"))then   if(ra)then paTexture:SetColorTexture(0.34509727358818,0.61960649490356,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end    if(castMagic(388193)==true and string.find(attmode,"-wnyht") ~= nil)then   if(ra)then paTexture:SetColorTexture(0.75686109066010,0.92940974235535,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end    if(castMagic(388193)==true and (W_BuffTimes(3,"player",389387)==0 or W_BuffTimes(3,"player",388026)<2 or W_BuffTimes(3,"player",388193)==0)  and IsSpellInRange(GetSpellInfo(100780),"target")==1 and string.find(attmode,"-qxyht") == nil)then   if(ra)then paTexture:SetColorTexture(0.75686109066010,0.92940974235535,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end    if(castMagic(124081)==true and string.find(attmode,"-qxcyb") == nil)then     end    if(castMagic(196725)==true  and G_GetSpellCD(196725)<=0.2 and string.find(attmode,"-qxjf") == nil)then    if(ra)then paTexture:SetColorTexture(0.50588124990463,0.52941060066223,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end  if(IsSpellInRange(GetSpellInfo(100780),"target")==1)then    if(string.find(attmode,"-caoe") ~= nil)then   if(ra)then paTexture:SetColorTexture(0.84705698490143,0.29803857207298,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end    if(G_GetSpellCD(107428)<=0.2)then    if(G_GetSpellCD(116680)<=0.2 and W_BuffTimes(3,"player",116680)==0 and string.find(attmode,"-qxlg") == nil)then    if(ra)then paTexture:SetColorTexture(0.87450790405273,0.21960735321045,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]   end  if(castMagic(107428)==true or castMagic(467307)==true)then  if(ra)then paTexture:SetColorTexture(0.59607714414597,0.70980238914490,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end  end  if(string.find(attmode,"-aoe") ~= nil)then   if(ra)then paTexture:SetColorTexture(0.84705698490143,0.29803857207298,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end  menghuNums = G_BuffCount(3,"player",202090)  if(menghuNums>0)then  menghuIndex=1  end    if(G_GetSpellCD(100784)<=0.2 and (menghuNums ==4 or menghuIndex==0))then  if(string.find(attmode,"-ylhm") == nil)then  if(ra)then paTexture:SetColorTexture(0.39607757329941,0.40784224867821,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  else  if(zhiliaohp<=0.9 or isTeam()==2)then  if(ra)then paTexture:SetColorTexture(0.39607757329941,0.40784224867821,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end  end  end    if(menghuNums<4)then  if(ra)then paTexture:SetColorTexture(0.84313541650772,0.75293952226639,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]  end    if(ra)then paTexture:SetColorTexture(0.84705698490143,0.29803857207298,0.00000000) ra = false end --[[3405ACBB-FB8D-11E9-80DB-F875A4174727]]    end  padoit(113) end function getid(magicid)  _,_,_,_,_,_,ids= GetSpellInfo(GetSpellInfo(magicid))  if(ids==nil)then  return magicid;  else  return ids;  end end  function start_attack() indexattack = 1 for AtkSlot = 1,12 do   if IsCurrentAction(AtkSlot) then  indexattack=0 end;  end;  return indexattack end;   targetIndex=0 function setpa(index) pa=true targetIndex = index end  function castMagic(spellID,castplayer)  if(spellIsUse(spellID)==1 and IsUsableSpell(spellID) == true and G_GetSpellCD(spellID) <0.2)then   if(castplayer~=nil)then  cIndex=false  if(castplayer==0)then   if(W_BuffTimes(3,NA_Player,spellID)==0)then    cIndex = true;   end  else if(castplayer==1)then   if(G_DeBuffTimes(NA_Target,spellID)==0)then   cIndex = true;   end  else if(castplayer==2)then   if(G_DeBuffTimes(NA_Player,spellID)==0)then   cIndex = true;   end  else if(castplayer==3)then   if(W_BuffTimes(3,NA_Target,spellID)==0)then   cIndex = true;   end  else if(castplayer==4)then   if(G_DeBuffTimes(NA_Player,spellID,false)==0)then   cIndex = true;   end  end  end  end  end  end  return cIndex; end  return true; end return false; end  function isTeam()    if(UnitInParty("player")==true)then  if UnitInRaid("player") then  if(UnitInRaid("player")>=1)then   return 2;  end  else   return 1;  end  end  return 0; end function spellIsUse(spellID)  index = 0;  targetName = GetSpellInfo(spellID); feifuName = GetSpellInfo(targetName);  if feifuName == targetName then index=1  end        return index; end  cmarco=3 function onUpdateTimerFrame(self, inTimes)     if(cmarco==0)then  cmarco=1;  end  if(cmarco==2)then  cs()  end  cmarco=cmarco+1  mySprite()  padoit(198)  RunScript(script) end      function getshowMagic_bfbs(Unit,Interrupt)   local c,i;  local tTime,sTime,nTime,lTime;  nTime = GetTime()*1000;  local sz;  local bsz;   if not Unit then    Unit = "target";   end   c,_,_,_,_,_,_,_,i = UnitCastingInfo(Unit);      if c then    c,_,_,sTime,tTime,bsz,i = UnitCastingInfo(Unit);            lTime = tTime-sTime;    nTime = nTime-sTime;    sz = 1-(nTime/lTime);               if c then          if not Interrupt then      return sz;     else      if not i then       return sz;      end     end    end       else    c,_,_,sTime,tTime,bsz,i = UnitChannelInfo(Unit);          if c then    lTime = tTime-sTime;    nTime = nTime-sTime;    sz = 1-(nTime/lTime);     if not Interrupt then      return sz;     else      if not i then       return sz;      end     end      end   end  return 0;       end    pIndexText = 0; pW = 4; ph = 4; pX = 0; pY = 0;  pa = CreateFrame("Frame",nil,UIParent) pa:SetFrameStrata("TOOLTIP") pa:SetWidth(pW) pa:SetHeight(ph)  pa:SetPoint("TOPLEFT",pX,pY) pa:SetPoint("TOPLEFT",pX,pY)  paTexture = pa:CreateTexture() paTexture:SetPoint("LEFT",0,0) paTexture:SetColorTexture(0.9,0.9,0,1) paTexture:SetWidth(pW) paTexture:SetHeight(ph) paTexture:Show()  pIndexText = 1  pb = CreateFrame("Frame",nil,UIParent) pb:SetFrameStrata("TOOLTIP") pb:SetWidth(pW) pb:SetHeight(ph)  pb:SetPoint("TOPLEFT",pX+pW,pY) pb:SetPoint("TOPLEFT",pX+pW,pY) pbTexture = pb:CreateTexture() pbTexture:SetPoint("LEFT",0,0) pbTexture:SetColorTexture(0.1,0.1,0,1) pbTexture:SetWidth(pW) pbTexture:SetHeight(ph) pbTexture:Show()  pIndexText = 2 pc = CreateFrame("Frame",nil,UIParent) pc:SetFrameStrata("TOOLTIP") pc:SetWidth(pW) pc:SetHeight(ph) pc:SetPoint("TOPLEFT",pX+pIndexText*pW,pY) pcTexture = pc:CreateTexture() pcTexture:SetPoint("LEFT",0,0) pcTexture:SetColorTexture(0.9,0.9,0,1) pcTexture:SetWidth(pW) pcTexture:SetHeight(ph) pcTexture:Show() pcTexture:Hide()  pIndexText = 3 pd = CreateFrame("Frame",nil,UIParent) pd:SetFrameStrata("TOOLTIP") pd:SetWidth(pW) pd:SetHeight(ph) pd:SetPoint("TOPLEFT",pX+pIndexText*pW,pY) pdTexture = pd:CreateTexture() pdTexture:SetPoint("LEFT",0,0) pdTexture:SetColorTexture(0.9,0.9,0,1) pdTexture:SetWidth(pW) pdTexture:SetHeight(ph) pdTexture:Show() pdTexture:Hide()  pIndexText = 4 pe = CreateFrame("Frame",nil,UIParent) pe:SetFrameStrata("TOOLTIP") pe:SetWidth(pW) pe:SetHeight(ph) pe:SetPoint("TOPLEFT",pX+pIndexText*pW,pY) peTexture = pe:CreateTexture() peTexture:SetPoint("LEFT",0,0) peTexture:SetColorTexture(0.9,0.9,0,1) peTexture:SetWidth(pW) peTexture:SetHeight(ph) peTexture:Show() peTexture:Hide() pIndexText = 5 pf = CreateFrame("Frame",nil,UIParent) pf:SetFrameStrata("TOOLTIP") pf:SetWidth(pW) pf:SetHeight(ph) pf:SetPoint("TOPLEFT",pX+pIndexText*pW,pY) pfTexture = pf:CreateTexture() pfTexture:SetPoint("LEFT",0,0) pfTexture:SetColorTexture(0.9,0.9,0,1) pfTexture:SetWidth(pW) pfTexture:SetHeight(ph) pfTexture:Show() pfTexture:Hide() pIndexText = 6 pg = CreateFrame("Frame",nil,UIParent) pg:SetFrameStrata("TOOLTIP") pg:SetWidth(pW) pg:SetHeight(ph) pg:SetPoint("TOPLEFT",pX+pIndexText*pW,pY) pgTexture = pg:CreateTexture() pgTexture:SetPoint("LEFT",0,0) pgTexture:SetColorTexture(0.9,0.9,0,1) pgTexture:SetWidth(pW) pgTexture:SetHeight(ph) pgTexture:Show() pgTexture:Hide() pIndexText = 7 phc = CreateFrame("Frame",nil,UIParent) phc:SetFrameStrata("TOOLTIP") phc:SetWidth(pW) phc:SetHeight(ph) phc:SetPoint("TOPLEFT",pX+pIndexText*pW,pY) phTexture = phc:CreateTexture() phTexture:SetPoint("LEFT",0,0) phTexture:SetColorTexture(0.9,0.9,0,1) phTexture:SetWidth(pW) phTexture:SetHeight(ph) phTexture:Show() phTexture:Hide() pIndexText = 8 pi = CreateFrame("Frame",nil,UIParent) pi:SetFrameStrata("TOOLTIP") pi:SetWidth(pW) pi:SetHeight(ph) pi:SetPoint("TOPLEFT",pX+pIndexText*pW,pY) piTexture = pi:CreateTexture() piTexture:SetPoint("LEFT",0,0) piTexture:SetColorTexture(0.9,0.9,0,1) piTexture:SetWidth(pW) piTexture:SetHeight(ph) piTexture:Show() piTexture:Hide()   slsct = GetTime(); function pa() sldcd=0 cldcd=0 for i = 1, GetNumAddOns() do   name,s,Names = GetAddOnInfo(i)   if(name~=nil and Names~=nil)then   if(name == acb("d293c2hhb1NrYWRh") or name == acb("d293c2hhb3NrYWRh"))then   sldcd=1;   end   if((string.find(s,acb("5Yu65a2Q5LiA6ZSu5a6P")) ~= nil or string.find(s,acb("5ZOA5q6H56ue5oqA")) ~= nil or string.find(s,acb("5ZOA5Lyk56ue5oqA")) ~= nil or string.find(s,acb("6KGA5p+T56ue5oqA")) ~= nil or string.find(s,acb("6ICB5Z2R54i5")) ~= nil or string.find(s,acb("5aSp5ZCv6a2U5YW9")) ~= nil or string.find(s,acb("5Y2O6K+t5LiA6ZSu5a6P")) ~= nil or string.find(s,acb("54iG56C05LiA6ZSu5a6P")) ~= nil or string.find(s,acb("avpas68")) ~= nil or string.find(s,acb("avpas69")) ~= nil) or GetLocale() ~= "zhCN")then   cldcd=1;   end   end end end pa()  function cs() PickupMacro(button_1) PlaceAction("1"); PickupMacro(button_2) PlaceAction("2"); PickupMacro(button_3) PlaceAction("3"); PickupMacro(button_4) PlaceAction("4");  PickupMacro(button_5) PlaceAction("5"); PickupMacro(button_6) PlaceAction("6"); end   function DSZHELP(index,check)   if(UnitAffectingCombat("player")==true)then StaticPopupDialogs["WOWSHAOTIPS"] = {  button1 = "���",  OnAccept = function()  end,  showAlert = 2,  timeout = 20, }; StaticPopupDialogs["WOWSHAOTIPS"].text = "�����������������������������������; StaticPopup_Show("WOWSHAOTIPS"); macroIn = 1 return end _,_,sptype = UnitClass("player"); if(sptype ~= playerIndex_type)then StaticPopupDialogs["WOWSHAOTIPS"] = {  button1 = "���",  OnAccept = function()  end,  showAlert = 2,  timeout = 20, }; StaticPopupDialogs["WOWSHAOTIPS"].text = "���������������������\n������������"..playerIndex_name; StaticPopup_Show("WOWSHAOTIPS"); macroIn = 1 return end    if(spellIsUse(magicidcreate)==0 and UnitLevel("player")>=10)then StaticPopupDialogs["WOWSHAOTIPS"] = {  button1 = "���",  OnAccept = function()  end,  showAlert = 2,  timeout = 20, }; StaticPopupDialogs["WOWSHAOTIPS"].text = "���������������������\n������������"..playerIndex_name.."\n���������������������������������������������������������������������������"; StaticPopup_Show("WOWSHAOTIPS"); macroIn = 1 return end      cmarco=0;     macroType = false; if(index==nil)then index = 0; end if(check==nil)then check=0; end if(index == 1)then macroType = true end button_1 = "BFAOE"; button_2 = "BFDT"; button_3 = "CGDT"; button_4 = "CGAOE"; button_5 = "STOP"; button_6 = "MENU";  button_txt_1 = "/run setmode(\"-CGAOE -zl -zn -hpyl(50)hpyl -hphx(90)hphx\")"; button_txt_2 = "/run setmode(\"-CGDT -zl -zn -hpyl(50)hpyl -hphx(90)hphx\")"; button_txt_3 = "/run setmode(\"-CGDT -zl -hpyl(90)hpyl -hphx(90)hphx\")"; button_txt_4 = "/run setmode(\"-CDT -jhzq\")"; button_txt_5 = "/run setmode(\"-stop\")"; button_txt_6 = "/run opendsz()"; button_icon_1 = "1360978"; button_icon_2 = "627486"; button_icon_3 = "627487"; button_icon_4 = "642415"; button_icon_5 = "134478"; button_icon_6 = "1506460"; button_tips_1 = "delete"; button_tips_2 = "cancel"; button_tips_3 = "ok"; button_tips_txt = "Your number of macros is full. Please select ESC-macro command settings. At least 10 macros, call this command again."; button_finish_txt = "Created successfully Wish you a pleasant game."; if (GetLocale() == "zhCN") then button_1 = playerIndex_name.."������"; button_2 = playerIndex_name.."������"; button_3 = playerIndex_name.."������"; button_4 = playerIndex_name.."���"; button_5 = "���"; button_6 = "���"; button_tips_1 = "������"; button_tips_2 = "���"; button_tips_txt = "�����������������SC-������������10���������������"; button_tips_3 = "���"; button_finish_txt = "���������������������\n��������n1�����������������n2�����������������n3�����������������n4�����n5��������n6�����������; end macroIn = 0; macroNums = 0; if(check == 0)then for i = 1, MAX_ACCOUNT_MACROS + MAX_CHARACTER_MACROS do   local name, _, body = GetMacroInfo(i)   if name then    macroNums = macroNums+1   end end if(macroNums >= MAX_ACCOUNT_MACROS)then StaticPopupDialogs["WOWSHAOTIPS"] = {  button1 = button_tips_1,  button2 = button_tips_2,  OnAccept = function()  for i=1,10 do DeleteMacro(i) end  DSZHELP(index,1)  end, }; StaticPopupDialogs["WOWSHAOTIPS"].text = button_tips_txt; StaticPopup_Show("WOWSHAOTIPS"); macroIn = 1 end end if(macroIn==0)then DeleteMacro(button_1); DeleteMacro(button_2); DeleteMacro(button_3); DeleteMacro(button_4);  CreateMacro(button_1,button_icon_1,button_txt_1,macroType); CreateMacro(button_2,button_icon_2,button_txt_2,macroType); CreateMacro(button_3,button_icon_3,button_txt_3,macroType); CreateMacro(button_4,button_icon_4,button_txt_4,macroType); PickupMacro(button_1) PlaceAction("1"); PickupMacro(button_2) PlaceAction("2"); PickupMacro(button_3) PlaceAction("3"); PickupMacro(button_4) PlaceAction("4");   PickupMacro(button_1) PlaceAction("73"); PickupMacro(button_2) PlaceAction("74"); PickupMacro(button_3) PlaceAction("75"); PickupMacro(button_4) PlaceAction("76");   PickupMacro(button_1) PlaceAction("109"); PickupMacro(button_2) PlaceAction("110"); PickupMacro(button_3) PlaceAction("111"); PickupMacro(button_4) PlaceAction("112"); restop = 0 remenu = 0 for i = 1, MAX_ACCOUNT_MACROS + MAX_CHARACTER_MACROS do   local name, _, body = GetMacroInfo(i)   if name and string.find(name,button_5) ~= nil then    EditMacro(i,name,button_icon_5,button_txt_5,macroType)    restop=1   end      if name and string.find(name,button_6) ~= nil then    EditMacro(i,name,button_icon_6,button_txt_6,macroType)    remenu=1   end end if(restop==0)then DeleteMacro(button_5); CreateMacro(button_5,button_icon_5,button_txt_5,macroType); end if(remenu==0)then DeleteMacro(button_6); CreateMacro(button_6,button_icon_6,button_txt_6,macroType); end PickupMacro(button_5) PlaceAction("5"); PickupMacro(button_6) PlaceAction("6");  PickupMacro(button_5) PlaceAction("113"); PickupMacro(button_6) PlaceAction("114");   PickupMacro(button_5) PlaceAction("77"); PickupMacro(button_6) PlaceAction("78");    StaticPopupDialogs["WOWSHAOTIPS_FINISH"] = {  button1 = button_tips_3,  OnAccept = function()  end, }; StaticPopupDialogs["WOWSHAOTIPS_FINISH"].text = button_finish_txt; StaticPopup_Show("WOWSHAOTIPS_FINISH"); end     end  if (GetLocale() == "zhCN") then  WOWTIPS = "���������������\n���������������"..playerIndex_name.."\n������������"..playerTypes.."\n��������������  WOWTIPS_ERROR = "���������������\n���������������"..playerIndex_name.."\n������������"..playerTypes.."\n������������������������\n��������������RL"  WOWTIPS_NOTHING = "������" elseif (GetLocale() == "zhTW") then  WOWTIPS = "���������������\n������������������\n������������"..playerTypes.."\n��������������  WOWTIPS_ERROR = "���������������\n���������������"..playerIndex_name.."\n������������"..playerTypes.."\n������������������������\n��������������RL"  WOWTIPS_NOTHING = "������" else  playerIndex_name = "kuangbao"  WOWTIPS = "Thank you for using the spoon button macro\n Your current plug-in career is: "..playerIndex_name.."\n Your current career is:"..playerTypes.."\nWish you a pleasant game."  WOWTIPS_ERROR = "Thank you for using the spoon button macro\n Your current plug-in career is: "..playerIndex_name.."\n Your current career is:"..playerTypes.."\nCurrent career does not match\n please re-select the plug-in to startn game lost such as/RL"  WOWTIPS_NOTHING = "nothing" end   function createpressiontips() if(wowshaoskadaConfig["pressiontips"]~=1)then if(ptype == playerIndex_type)then StaticPopupDialogs["WOWSHAOTIPS"] = {  button2 = OKAY,  button1 = WOWTIPS_NOTHING,  OnAccept = function()  wowshaoskadaConfig["pressiontips"]=1  end,  timeout = 10, }; StaticPopupDialogs["WOWSHAOTIPS"].text = WOWTIPS StaticPopup_Show("WOWSHAOTIPS"); else StaticPopupDialogs["WOWSHAOTIPS"] = {  button2 = OKAY,  button1 = WOWTIPS_NOTHING,  OnAccept = function()  end,  showAlert = 2,  timeout = 20, }; StaticPopupDialogs["WOWSHAOTIPS"].text = WOWTIPS_ERROR StaticPopup_Show("WOWSHAOTIPS"); end end end    npcNameIndex = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}  function addListName(npcName)  for i=1,30,1 do  if(npcNameIndex[i]==0)then   npcNameIndex[i] = npcName   break;  end  end  return isMatch end function removeListName(npcName) for i=1,30,1 do  local _, ret = string.find(npcNameIndex[i], npcName)   if ret ~= nil then    npcNameIndex[i] = 0    break   end        end end function npcNums()  nums = 0  attnums=0  for i=1,30,1 do  if(npcNameIndex[i]~=0)then   nums=nums+1      atttype   = UnitThreatSituation("player", npcNameIndex[i])   attCombat = UnitAffectingCombat(npcNameIndex[i])      isDistance = CheckInteractDistance(npcNameIndex[i], 3)   if(isDistance)then   if(atttype~=nil or attCombat)then    attnums = attnums+1   end   end  end  end  return nums,attnums; end   function npcBallNums()  nums = 0  attnums=0  hps = 0  hpsNum = 0  for i=1,30,1 do  if(npcNameIndex[i]~=0)then   nums=nums+1      atttype   = UnitThreatSituation("player", npcNameIndex[i])   attCombat = UnitAffectingCombat(npcNameIndex[i])   isDistance = CheckInteractDistance(npcNameIndex[i], 2)   if(isDistance)then    if(getNpcID(npcNameIndex[i]) == "120651")then     hps = hps + W_HPlevel(npcNameIndex[i])     attnums = attnums+1    end   end  end  end  if(attnums~=0)then   hps = hps / attnums;  end  return nums,attnums,hps,hpsNum; end     local heshuiSizeLabel; kaiguancheck = 1 local function checkdsz_OnClick(self)  local index = self.key  if(self.key==203)then    heshuiSizeLabel:SetText(50)   return;  end  local set = self:GetChecked()  if(self.key==200)then    if(self:GetChecked())then qusantype = 0 else qusantype = 1 end  end  if(self.key==201)then    if(self:GetChecked())then heshuitype = 1 else heshuitype = 0 end  end  if(self.key==202)then    if(self:GetChecked())then zhinengqusanIndex = 1 else zhinengqusanIndex = 0 end  end  if(self.key==204)then    if(self:GetChecked())then fenggouIndex = 1 else fenggouIndex = 0 end  end  if(self.key==205)then    if(self:GetChecked())then ddsetIndex = 0 else ddsetIndex = 1 end   wowshaoskadaConfig["ddset"] = ddsetIndex  end  if(self.key==207)then    if(self:GetChecked())then zlssetIndex = 0 else zlssetIndex = 1 end   wowshaoskadaConfig["zlsset"] = zlssetIndex  end  if(self.key==208)then    if(self:GetChecked())then zlyssetIndex = 0 else zlyssetIndex = 1 end   wowshaoskadaConfig["zlysset"] = zlyssetIndex  end  if(self.key==100)then   if(self:GetChecked()) then kaiguancheck=1 else kaiguancheck=0 end      for i = 1, #titleTxt do   if kaiguancheck==1 then   checkboxes[i]:Enable()   else   checkboxes[i]:Disable()   end   end  end    if(self.key<=40)then  if(set)then raidcheck[self.key] = 1;   else  raidcheck[self.key] = 0;  end  end end  local function heshuiSizeChanged( self, value )   heshuiNums = value;  if(heshuiSizeLabel~=nil)then  heshuiSizeLabel:SetText( heshuiNums .. "%�� )  end end   local function ddSizeChanged( self, value )   daduanIndex = value/100;  wowshaoskadaConfig["ddIndex"] = daduanIndex  if(ddSizeLabel~=nil)then  if(daduanIndex==0)then  ddSizeLabel:SetText( "����� )  elseif(daduanIndex==1)then  ddSizeLabel:SetText( "����� )  else  ddSizeLabel:SetText( daduanIndex*100 .. "%���" )  end  end end   local function zlsSizeChanged( self, value )   zhiliaoshiIndex = value/100;  wowshaoskadaConfig["zlsIndex"] = zhiliaoshiIndex  if(zlsSizeLabel~=nil)then  zlsSizeLabel:SetText( zhiliaoshiIndex*100 .. "%����� )  end end   local function zlysSizeChanged( self, value )   zhiliaoyaoshui = value/100;  wowshaoskadaConfig["zlysIndex"] = zhiliaoyaoshui  if(zlysSizeLabel~=nil)then  zlysSizeLabel:SetText( zhiliaoyaoshui*100 .. "%����� )  end end      local panelInit, charConfigCheckbox,ppanelInit checkboxes = {} local qusanboxes; local qusantype=0; local zhinengqusanIndex= 0;  raidcheck = {  1,1,1,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1,1,1,  1,1,1,1,1,1,1,1, } titleTxt =  {      "raid1","raid2","raid3","raid4","raid5",      "raid6","raid7","raid8","raid9","raid10",      "raid11","raid12","raid13","raid14","raid15",      "raid16","raid17","raid18","raid19","raid20",      "raid21","raid22","raid23","raid24","raid25",      "raid26","raid27","raid28","raid29","raid30",} titleTxt_party =  {"party1","party2","party3","party4","party5","party6","party7","party8"}       titleTxt_color = {  "c79c6e","e684af","a0c66c","ffff00","ffffff",  "ff0000","035cb3","3DBBDC","8787ED","01ef8f",  "DF6E0A","68217A","ffff00","ffff00", };      local DSZ_OnRefresh  function initPanel(self)  if not panelInit then   local footer = self:CreateFontString(nil, "OVERLAY", "GameFontDisableSmall")   footer:SetPoint('BOTTOMRIGHT', -16, 16)   footer:SetText( "2.01" or "Dev" )    local label = self:CreateFontString(nil, "OVERLAY", "GameFontNormalLarge")   label:SetPoint("TOPLEFT", 16, -16)   label:SetJustifyH("LEFT")   label:SetJustifyV("TOP")   label:SetText( "���������" )      TOPHIGHT = 20;            for i = 1, #titleTxt do       checkboxes[i] = CreateFrame("CheckButton", nil, self, "InterfaceOptionsCheckButtonTemplate")   checkboxes[i]:SetScript("OnClick", checkdsz_OnClick)   checkboxes[i].Text:SetFontObject("GameFontHighlightSmall")   checkboxes[i].Text:SetPoint("LEFT", checkboxes[i], "RIGHT", 0, 1)   checkboxes[i].Text:SetText( titleTxt[i] )   checkboxes[i].key = i   checkboxes[i]:SetPoint("TOPLEFT", 36+(math.floor((i-1)/5))*150-(150*4)*math.floor((i-1)/20), -76-(((i-1)%5)-1)*TOPHIGHT-(120)*math.floor((i-1)/20))   checkboxes[i]:SetChecked(raidcheck[i]);   end         raidclock = CreateFrame("CheckButton", nil, self, "InterfaceOptionsCheckButtonTemplate")   raidclock:SetScript("OnClick", checkdsz_OnClick)   raidclock.Text:SetFontObject("GameFontHighlightSmall")   raidclock.Text:SetPoint("LEFT", raidclock, "RIGHT", 0, 1)   raidclock.Text:SetText( "����� )   raidclock.key = 100   raidclock:SetChecked(kaiguancheck);   raidclock:SetPoint("TOPLEFT", 486, -16)               label = self:CreateFontString(nil, "OVERLAY", "GameFontNormalLarge")   label:SetPoint("TOPLEFT", 16, -300)   label:SetJustifyH("LEFT")   label:SetJustifyV("TOP")   label:SetText( "�����������������1���" )   panelInit=true            qusanboxes = CreateFrame("CheckButton", nil, self, "InterfaceOptionsCheckButtonTemplate")   qusanboxes:SetScript("OnClick", checkdsz_OnClick)   qusanboxes.Text:SetFontObject("GameFontHighlightSmall")   qusanboxes.Text:SetPoint("LEFT", qusanboxes, "RIGHT", 0, 1)   qusanboxes.Text:SetText("���1��6��)   qusanboxes.key = 200   qusanboxes:SetPoint("TOPLEFT", 16,-320)   qusanboxes:SetChecked(1);         qusanboxes = CreateFrame("CheckButton", nil, self, "InterfaceOptionsCheckButtonTemplate")   qusanboxes:SetScript("OnClick", checkdsz_OnClick)   qusanboxes.Text:SetFontObject("GameFontHighlightSmall")   qusanboxes.Text:SetPoint("LEFT", qusanboxes, "RIGHT", 0, 1)   qusanboxes.Text:SetText("������������������������������������������")   qusanboxes.key = 202   qusanboxes:SetPoint("TOPLEFT", 136,-320)   qusanboxes:SetChecked(1);                     label = self:CreateFontString(nil, "OVERLAY", "GameFontNormalLarge")   label:SetPoint("TOPLEFT", 16, -350)   label:SetJustifyH("LEFT")   label:SetJustifyV("TOP")   label:SetText( "������" )   panelInit=true         qusanboxes = CreateFrame("CheckButton", nil, self, "InterfaceOptionsCheckButtonTemplate")   qusanboxes:SetScript("OnClick", checkdsz_OnClick)   qusanboxes.Text:SetFontObject("GameFontHighlightSmall")   qusanboxes.Text:SetPoint("LEFT", qusanboxes, "RIGHT", 0, 1)   qusanboxes.Text:SetText("������")   qusanboxes.key = 205   qusanboxes:SetPoint("TOPLEFT", 16,-372)   if(ddsetIndex==0)then qusanboxes:SetChecked(1); end         heshuiSize = CreateFrame( "Slider", nil, self, "OptionsSliderTemplate" )   heshuiSize:SetPoint( "TOPLEFT", 150, -372)   heshuiSize:SetMinMaxValues( 0, 100 )   heshuiSize:SetValueStep( 1 )   heshuiSize:SetStepsPerPage( 1 )   heshuiSize.key = 206   heshuiSize:SetWidth( 200 )   heshuiSize:SetObeyStepOnDrag( true )   heshuiSize:SetScript( "OnValueChanged", ddSizeChanged )   heshuiSize:SetValue(daduanIndex*100)      ddSizeLabel = self:CreateFontString( nil, "OVERLAY", "GameTooltipText" )   ddSizeLabel:SetPoint( "TOPLEFT", 360, -372 )   ddSizeLabel:SetText((daduanIndex*100).. "%���")            qusanboxes = CreateFrame("CheckButton", nil, self, "InterfaceOptionsCheckButtonTemplate")   qusanboxes:SetScript("OnClick", checkdsz_OnClick)   qusanboxes.Text:SetFontObject("GameFontHighlightSmall")   qusanboxes.Text:SetPoint("LEFT", qusanboxes, "RIGHT", 0, 1)   qusanboxes.Text:SetText("��������)   qusanboxes.key = 207   qusanboxes:SetPoint("TOPLEFT", 16,-402)   if(zlssetIndex==0)then qusanboxes:SetChecked(1); end         heshuiSize = CreateFrame( "Slider", nil, self, "OptionsSliderTemplate" )   heshuiSize:SetPoint( "TOPLEFT", 150, -402)   heshuiSize:SetMinMaxValues( 0, 100 )   heshuiSize:SetValueStep( 1 )   heshuiSize:SetStepsPerPage( 1 )   heshuiSize:SetWidth( 200 )   heshuiSize:SetObeyStepOnDrag( true )   heshuiSize:SetScript( "OnValueChanged", zlsSizeChanged )   heshuiSize:SetValue(zhiliaoshiIndex*100)         zlsSizeLabel = self:CreateFontString( nil, "OVERLAY", "GameTooltipText" )   zlsSizeLabel:SetPoint( "TOPLEFT", 360, -402)   zlsSizeLabel:SetText((zhiliaoshiIndex*100).. "%���")            qusanboxes = CreateFrame("CheckButton", nil, self, "InterfaceOptionsCheckButtonTemplate")   qusanboxes:SetScript("OnClick", checkdsz_OnClick)   qusanboxes.Text:SetFontObject("GameFontHighlightSmall")   qusanboxes.Text:SetPoint("LEFT", qusanboxes, "RIGHT", 0, 1)   qusanboxes.Text:SetText("���������")   qusanboxes.key = 208   qusanboxes:SetPoint("TOPLEFT", 16,-432)   if(zlyssetIndex==0)then qusanboxes:SetChecked(1); end       heshuiSize = CreateFrame( "Slider", nil, self, "OptionsSliderTemplate" )   heshuiSize:SetPoint( "TOPLEFT", 150, -432)   heshuiSize:SetMinMaxValues( 0, 100 )   heshuiSize:SetValueStep( 1 )   heshuiSize:SetStepsPerPage( 1 )   heshuiSize:SetWidth( 200 )   heshuiSize:SetObeyStepOnDrag( true )   heshuiSize:SetScript( "OnValueChanged", zlysSizeChanged )   heshuiSize:SetValue(zhiliaoyaoshui*100)         zlysSizeLabel = self:CreateFontString( nil, "OVERLAY", "GameTooltipText" )   zlysSizeLabel:SetPoint( "TOPLEFT", 360, -432)   zlysSizeLabel:SetText((zhiliaoyaoshui*100).. "%���")     end  if panelInit then  for i = 1, #titleTxt do   name = titleTxt[i];   ui_tname = UnitName(name)   if(ui_tname==nil)then    ui_tname = titleTxt[i];    else   _,_,cltype = UnitClass(ui_tname);   ui_tname = "\124cff"..titleTxt_color[cltype]..ui_tname   end   checkboxes[i].Text:SetText(ui_tname )     end  end end  function G_icy_split(str, pat)     local t = {}      local fpat = "(.-)" .. pat    local last_end = 1    local s, e, cap = str:find(fpat, 1)       while s do       if s ~= 1 or cap ~= "" then          table.insert(t,cap)       end       last_end = e+1       s, e, cap = str:find(fpat, last_end)    end    if last_end <= #str then       cap = str:sub(last_end)       table.insert(t, cap)    end    return t end  panel=CreateFrame("FRAME"); function CreateShaoziSet()  panel.name = "�����������  panel.okay = DSZ_OnSave  panel.cancel = DSZ_OnCancel  panel.default  = DSZ_OnDefaults  panel.refresh  = DSZ_OnRefresh  InterfaceOptions_AddCategory(panel)    if Settings and Settings.RegisterAddOnCategory and Settings.RegisterCanvasLayoutCategory then   local category = Settings.RegisterCanvasLayoutCategory(panel, panel.name)   categoryId = category.ID   Settings.RegisterAddOnCategory(category);  end  return panel end    function opendsz() Settings.OpenToCategory(categoryId) end  CreateShaoziSet()  print("������") 
